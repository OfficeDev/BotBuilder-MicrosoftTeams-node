# Select image for build machine
image: ubuntu

# Test against the latest version of this Node.js version
environment:
  nodejs_version: "8.11.3"

# Pre-install init script
init:
  - curl -sL https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh -o install_nvm.sh
  - bash install_nvm.sh
  - source ~/.profile
  - nvm ls-remote
  - nvm install $nodejs_version
  - nvm use $nodejs_version
  - node --version
  - npm --version

# Install scripts. (runs after repo cloning)
install:
  - cd botbuilder-teams-js
  - npm install

# Post-install build scripts.
build_script:
  - npm run build

# Post-install test scripts.
test_script:
  - npm run test
